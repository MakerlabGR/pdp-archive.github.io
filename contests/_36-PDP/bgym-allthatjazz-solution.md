---
layout: solution
codename: allthatjazz
---

## Επεξήγηση εκφώνησης

Ζητείται να βρούμε τον μέγιστο αριθμό συναυλιών (πλήθος διαδοχικών αριθμών $$D_i$$) που χωρούν σε οποιοδήποτε "παράθυρο" $$K$$ ημερών. Έστω ότι ξεκινάμε να μετράμε από την ημερομηνία $$D_i$$ ($$1\le i \le N$$), τότε μας ενδιαφέρει 
να βρούμε την τελευταία (δεξιότερη) ημερομηνία $$D_m$$ όπου $$i\le m$$ και $$D_m - D_i + 1 \le K$$.
Προϋπόθεση βέβαια είναι οι μέρες $$D_i$$ να είναι ταξινομημένες σε αύξουσα σειρά.

## Εξαντλητική αναζήτηση $$\mathcal{O}(Q \cdot N^2)$$

Για κάθε δυνατή ημερομηνία έναρξης $$D_i$$, αναζητούμε την μέγιστη ημερομηνία $$D_m$$ ώστε $$D_m-D_i \lt K$$.

{% include code.md solution_name='brute.cc' %}

Εφόσον έχουμε 3 ενφολιασμένους βρόγχους (τον εξωτερικό για τα $$Q$$ ερωτήματα, τον ενδιάμεσο για την δοκιμή κάθε 
δυνατού $$i$$ και το εσωτερικό για την εύρεση του $$m$$), η πολυπλοκότητα είναι $$\mathcal{O}(Q \cdot N^2)$$

## Πλήρης λύση με τη χρήση δύο δεικτών $$\mathcal{O}(Q \cdot N)$$

Στην προηγούμενη λύση, για κάθε αρχή παρακολούθησης συναυλιών $$D_i$$, αναζητούσαμε την τελευταία 
συναυλία που μπορούσαμε να παρακολουθήσουμε ώστε να μην υπερβούμε τις $$K$$ μέρες που έχουμε στη διάθεση μας από την αρχή (δηλαδή από την $$D_i$$). Αυτό το κάναμε ξανά και ξανά καθώς το $$i$$ αυξανόταν με αποτέλεσμα να ξαναελέγχουμε τις 
ίδιες θέσεις πολλές φορές.
Ας παρατηρήσουμε όμως, ότι αν ξεκινήσουμε από τη μέρα $$i+1$$ δεν υπάρχει περίπτωση να μην φτάσουμε έως και την ημέρα 
$$m$$ που είχαμε φτάσει ξεκινόντας από τη θέση $$i$$. Αρκεί λοιπόν να διατηρήσουμε δύο δείκτες, ο ένας να είναι ο 
$$i$$ που δείχνει τη μέρα $$D_i$$ που ξεκινάμε την παρακολούθηση συναυλιών και έναν δείκτη $$m$$ που δείχνει την 
τελευταία συναυλία στη μέρα $$D_m$$ που μπορούμε να παρακολουθήσουμε ώστε να μην υπερβούμε τις $$K$$ μέρες. Και οι δύο 
δείκτες μόνο αυξάνονται.

Για κάθε $$i$$ ο δείκτης $$m$$ μπορεί να αυξηθεί έως $$N$$ φορές, όμως για όλα τα $$i$$ συνολικά ο δείκτης $$m$$ θα αυξηθεί $$N$$ φορές. 
Άρα για κάθε ερώτημα, θα χρειαστούμε χρόνο $$\mathcal{O}(N)$$, οπότε για τα $$Q$$ ερωτήματα θα 
χρειαστούμε $$\mathcal{O}(Q \cdot N)$$ χρόνο.

{% include code.md solution_name='2pointers.cc' %}
